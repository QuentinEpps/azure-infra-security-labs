# üß™ Lab: Configure Azure Networking for VMs

## üìò Objectives
- Create and configure a Virtual Network (VNet) and subnets
- Deploy VMs into specific subnets
- Set up Network Security Groups (NSGs)
- Test connectivity between VMs

## ‚úÖ Prerequisites
- Azure subscription
- At least one Windows and one Linux VM deployed
- Azure CLI or Portal access

---

## üñ•Ô∏è Part 1: Azure Portal

### üîß Steps
1. Create a Virtual Network `vnet-lab` with address space `10.0.0.0/16`
2. Create subnets:
   - `subnet-windows`: `10.0.1.0/24`
   - `subnet-linux`: `10.0.2.0/24`
3. Create NSGs:
   - `nsg-windows`: Allow RDP (3389)
   - `nsg-linux`: Allow SSH (22)
4. Associate NSGs with subnets or NICs
5. Deploy VMs into subnets
6. Test connectivity between VMs

---

## üíª Part 2: Azure CLI


az group create --name rg-network-lab --location eastus

az network vnet create \
  --resource-group rg-network-lab \
  --name vnet-lab \
  --address-prefix 10.0.0.0/16 \
  --subnet-name subnet-windows \
  --subnet-prefix 10.0.1.0/24

az network vnet subnet create \
  --resource-group rg-network-lab \
  --vnet-name vnet-lab \
  --name subnet-linux \
  --address-prefix 10.0.2.0/24

az network nsg create --resource-group rg-network-lab --name nsg-windows
az network nsg create --resource-group rg-network-lab --name nsg-linux

az network nsg rule create \
  --resource-group rg-network-lab \
  --nsg-name nsg-windows \
  --name allow-rdp \
  --protocol Tcp \
  --direction Inbound \
  --priority 1000 \
  --source-address-prefix '*' \
  --source-port-range '*' \
  --destination-address-prefix '*' \
  --destination-port-range 3389 \
  --access Allow

az network nsg rule create \
  --resource-group rg-network-lab \
  --nsg-name nsg-linux \
  --name allow-ssh \
  --protocol Tcp \
  --direction Inbound \
  --priority 1000 \
  --source-address-prefix '*' \
  --source-port-range '*' \
  --destination-address-prefix '*' \
  --destination-port-range 22 \
  --access Allow
